<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <link href="./styles.css" rel="stylesheet">
</head>
<body>

</body>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<input id="search"/>
<table id="table">
    <thead>
    <tr>
        <td class="col-head">userId</td>
        <td class="col-head">id</td>
        <td class="col-head">title</td>
        <td class="col-head">body</td>
    </tr>
    </thead>
    <tbody>

    </tbody>
</table>
<script>
    const appendRow = (table, row) => {
        const newRow = table.insertRow();
        for (const prop in row) {
            const newCell = newRow.insertCell();
            const newText = document.createTextNode(row[prop]);
            newCell.appendChild(newText);
        }
    }

    const appendRows = (table, data) => data.forEach(el => appendRow(table, el));

    const getCellValue = (tr, idx) => tr.children[idx].innerText || tr.children[idx].textContent;

    const comparer = (idx, asc) => (a, b) => ((v1, v2) =>
            v1 !== '' && v2 !== '' && !isNaN(v1) && !isNaN(v2) ? v1 - v2 : v1.toString().localeCompare(v2)
    )(getCellValue(asc ? a : b, idx), getCellValue(asc ? b : a, idx));


    const init = async () => {
        const response = await fetch('https://jsonplaceholder.typicode.com/posts');
        const data = await response.json();
        const tableBody = document.querySelector('#table tbody');

        appendRows(tableBody, data);

        document.querySelectorAll('.col-head').forEach(th => th.addEventListener('click', (() => {
            Array.from(tableBody.querySelectorAll('tr'))
                .sort(comparer(Array.from(th.parentNode.children).indexOf(th), this.asc = !this.asc))
                .forEach(tr => tableBody.appendChild(tr));
        })));
    };

    init();
</script>
</body>
</html>
</html>