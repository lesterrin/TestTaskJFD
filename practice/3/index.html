<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <link href="./styles.css" rel="stylesheet">
</head>
<body>

</body>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<input id="search"/>
<table id="table">
    <thead>
    <tr>
        <td class="col">userId</td>
        <td class="col">id</td>
        <td class="col">title</td>
        <td class="col">body</td>
    </tr>
    </thead>
    <tbody>

    </tbody>
</table>
<script>
    const appendRow = (table, row) => {
        const newRow = table.insertRow();
        for (const prop in row) {
            const newCell = newRow.insertCell();
            const newText = document.createTextNode(row[prop]);
            newCell.appendChild(newText);
        }
    }

    const sortColumn = function(rows, tableBody, index) {
        // Клонируем все строки
        const newRows = Array.from(rows);

        // Сортируем строки по содержимому ячеек. Массив предоставляет встроенный метод сортировки, который принимает функцию для сравнения двух элементов. Здесь две ячейки столбца сравниваются на основе их HTML-содержимого
        newRows.sort(function(rowA, rowB) {
            // Получаем содержимое ячеек
            const cellA = rowA.querySelectorAll('td')[index].innerHTML;
            const cellB = rowB.querySelectorAll('td')[index].innerHTML;

            switch (true) {
                case cellA > cellB: return 1;
                case cellA < cellB: return -1;
                case cellA === cellB: return 0;
            }
        });

        // Удаляем старые строки
        [].forEach.call(rows, function(row) {
            tableBody.removeChild(row);
        });

        // Добавляем новую строку
        newRows.forEach(function(newRow) {
            tableBody.appendChild(newRow);
        });
    };


    const init = async () => {
        const response = await fetch('https://jsonplaceholder.typicode.com/posts');
        const data = await response.json();
        const tableBody = document.querySelector('#table tbody');
        data.forEach(el => appendRow(tableBody, el));

        // Получить заголовки
        const headers = document.querySelectorAll('#table thead tr');
        const rows = tableBody.querySelectorAll('tr');
        // Обойти циклом все заголовки
        [].forEach.call(headers, function (header, index) {
            header.addEventListener('click', function () {
                // Эта функция будет выполнять сортировку
                sortColumn(rows,tableBody, index);
            });
        });


    };

    init();


</script>
</body>
</html>
</html>